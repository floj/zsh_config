#
# SHELL HELPERS
#

# Display all possible shell colors
alias shellcolors="echo 'Usage: %F{COLORNUMBER}text%f\n' ; for code ({000..255}) { print -nP -- \"\$code: %F{\$code}%K{\$code}Test%k%f \" ; (( code % 8 && code < 255 )) || printf '\n'}"

# Start a webserver here
alias serve='echo "SERVING `pwd` ON http://`ifconfig -v en0 inet | grep inet | cut -d " " -f 2`:9090/" && ruby -run -e httpd . -p9090'

if [[ "${OSTYPE}" =~ "darwin" ]]; then
  alias ll='ls -la'
else
  alias ll='ls -la --color=auto'
  alias ls='ls --color=auto'
fi

alias ..='cd ..'
alias dl='cd ~/Downloads'
alias rg='rg -F -i --hidden --max-columns 150'
alias sharelocalhost='ssh -R 80:localhost:3000 serveo.net'
alias rm='rmtrash'

#
# VIM
#

if [[ "${OSTYPE}" =~ "darwin" ]]; then
  alias v='mvim'
  alias vim='/usr/local/opt/macvim/MacVim.app/Contents/MacOS/Vim'
else
  alias v='gvim'
  alias vim='gvim'
fi

# Generate tags for all installed gems
alias tags="~/dev/privat/zsh_config/home/extras/generate_tags_for_gems"

#
# GIT RELATED
#

# Start tig in big iterm window
alias t="~/.zsh/modules/tig/start_tig_in_big_iterm_window"

alias pu='git push'

alias gpr='git pull --rebase --autostash'

# Back to master
alias master='git checkout master'

# Typos
alias gti="git"

#
# RUBY
#

# pipe for use with vim + rspec
alias rpipe='mkdir -p tmp && if [ ! -p tmp/rspec-test-pipe ]; then mkfifo tmp/rspec-test-pipe; fi && echo "Now listening to tmp/rspec-test-pipe" && while true; do sh -c "$(cat tmp/rspec-test-pipe)"; done'

# Run next failing rspec test.
# See https://relishapp.com/rspec/rspec-core/docs/command-line/only-failures
alias next="rspec --next-failure"

# Run jekyll in watch mode
alias jekyll="bundle exec jekyll server --watch"

#
# VIDEO DOWNLOADING AND CONVERTING
#

# Convert any video to a mobile (and chromecast) friedly format
alias all2mp4='~/.zsh/modules/ffmpeg/all2mp4'

# Download a video in mo4 format from youtube/vimeo/etc via youtube-dl
alias yd="youtube-dl --recode-video mp4 --continue --ignore-errors --no-overwrites -f best --restrict-filenames"

#
# ANDROID
#
alias adb='~/Dropbox/Software/adb'


#
# DOCKER
#
alias dc="docker-compose"
alias dcl="docker-compose logs -f --tail=25"

# vim:ft=sh
