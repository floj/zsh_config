# Docker commands

# Cleans up docker images and containers
dcleanup() {
  # Clean up dangling images if any
  if [[ "$(docker images -f "dangling=true" -q | wc -l | tr -d ' ')" != "0" ]]; then
    docker rmi $(docker images -f "dangling=true" -q) 
  else
    echo "No dangling images to clean up"
  fi

  # Cleanup exited containers
  if [[ "$(docker ps -a -q -f status=exited | wc -l | tr -d ' ')" != "0" ]]; then
    docker rm -v $(docker ps -a -q -f status=exited)
  else
    echo "No exited containers to clean up"
  fi
}

dbash() {
  docker exec -ti "$1" bash
}

# vim:ft=sh
