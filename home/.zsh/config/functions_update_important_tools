update_important_tools() {

  BREW_PACKAGES=(
  ripgrep
  boost
  colordiff
  cmake
  diff-so-fancy
  direnv
  exiftool
  ffmpeg
  flvstreamer
  git
  imagemagick
  jhead
  jq
  jump
  node
  nvm
  openssl
  pstree
  python
  rbenv
  readline
  ruby-build
  shellcheck
  sqlite
  tig
  unrar
  watch
  yarn
  youtube-dl
  zsh
  )

  BREW_CASKS=(
  kdiff3
  keepassxc
  macdown
  android-platform-tools
  )

  NODE_PACKAGES=(
  babel-eslint
  eslint
  gulp
  tslint
  typescript
  prettier
  )

  RUBY_GEMS=(
  bond
  bundler
  haml-lint
  pry
  pry-byebug
  ripper-tags
  rufo
  wirb
  )

  echo "${ccyellow}Updating zsh_config${ccend}"
  [ -e ~/dev/config/zsh_config ] && cd  ~/dev/config/zsh_config && git pull --rebase --autostash

  echo "${ccyellow}Updating vim_config${ccend}"
  [ -e ~/dev/config/zsh_config ] && cd  ~/dev/config/vim_config && git pull --rebase --autostash

  # If brew list fails there are missing packages
  echo "${ccyellow}Installing missing homebrew packages${ccend}"
  brew tap caskroom/cask
  brew tap universal-ctags/universal-ctags

  # Check installed packages
  INSTALLED=("${(@f)$(brew list -1)}")
  for p in "${BREW_PACKAGES[@]}"; do
   [[ ${INSTALLED[(ie)$p]} -gt ${#INSTALLED} ]] && brew install "${p}"
  done

  # Check install casks
  INSTALLED=("${(@f)$(brew cask list -1)}")
  for p in "${BREW_CASKS[@]}"; do
   [[ ${INSTALLED[(ie)$p]} -gt ${#INSTALLED} ]] && brew cask install "${p}"
  done

  if ! brew ls --versions universal-ctags; then
    brew install --HEAD universal-ctags
  fi

  brew upgrade
  brew cask upgrade
  brew cleanup &

  echo "${ccyellow}Updating rubygems${ccend}"
  gem update --system

  echo "${ccyellow}Installing important gems${ccend}"
  gem install --silent "${RUBY_GEMS}"

  echo "${ccyellow}Installing important JS tools${ccend}"
  npm install -g npm
  npm install -g ${NODE_PACKAGES} --no-package-lock || true

}
# vim:ft=sh
