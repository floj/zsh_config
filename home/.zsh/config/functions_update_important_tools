update_important_tools() {

  BREW_PACKAGES=(
  autojump
  colordiff
  ctags
  diff-so-fancy
  direnv
  exiftool
  ffmpeg
  flvstreamer
  git
  imagemagick
  jhead
  macvim
  mr
  node
  nvm
  openssl
  pstree
  python
  rbenv
  readline
  redis
  ruby-build
  sqlite
  the-silver-searcher
  tig
  unrar
  watch
  youtube-dl
  zsh
  )

  BREW_CASKS=(
  Caskroom/cask/kdiff3
  Caskroom/cask/macpass
  )

  NODE_PACKAGES=(
  babel-eslint
  eslint
  gulp
  jsome
  nesh
  nesh-history-search
  node-inspector
  npm-check-updates
  tslint
  typescript
  webpack
  )

  INSTALLED_PACKAGES=$(brew list ${BREW_PACKAGES})

  # If brew list fails there are missing packages
  if [[ "$?" != "0" ]]; then
    echo "${ccyellow}Installing missing packages${ccend}"
    #brew tap homebrew/versions
    brew tap caskroom/cask
    brew install ${BREW_PACKAGES}
    brew install ${BREW_CASKS}
  fi

  echo "${ccyellow}Updating rubygems${ccend}"
  gem update --system

  echo "${ccyellow}Installing important gems${ccend}"
  gem install pry-byebug bundler bond wirb

  echo "${ccyellow}Installing important JS tools${ccend}"
  npm install -g ${NODE_PACKAGES}

  # Enable nesh repl history plugin
  [[ ! -d "~/.nesh_modules/node_modules/nesh-history-search" ]] && nesh --enable nesh-history-search

  echo "${ccyellow}Checking homebrew update (updating if more than 3 packages updated)${ccend}"
  brew update
  UPDATES=$(brew outdated | wc -l)
  [[ "${UPDATES}" -ge "3" ]] && brew upgrade --all
}
# vim:ft=sh
