update_important_tools() {

  BREW_PACKAGES=(autojump
  brew-cask
  colordiff
  ctags
  direnv
  exiftool
  ffmpeg
  flvstreamer
  git
  imagemagick
  jhead
  macvim
  mussh
  node
  openssl
  pstree
  python
  rbenv
  readline
  redis
  rlwrap
  ruby-build
  sqlite
  tig
  unrar
  watch
  youtube-dl
  zsh
  kdiff3
  diff-so-fancy)

  NODE_PACKAGES=(
  eslint
  gulp
  node-inspector
  webpack
  babel-eslint
  updtr
  nesh
  nesh-history-search
  typescript@beta
  )

  INSTALLED_PACKAGES=$(brew list ${BREW_PACKAGES})

  # If brew list fails there are missing packages
  if [[ "$?" != "0" ]]; then
    echo "${ccyellow}Installing missing packages${ccend}"
    brew tap homebrew/versions
    brew install ${BREW_PACKAGES}
  fi

  echo "${ccyellow}Updating rubygems${ccend}"
  gem update --system

  echo "${ccyellow}Installing important gems${ccend}"
  gem install pry-byebug bundler git-up bond wirb

  echo "${ccyellow}Updating npm${ccend}"
  npm install -g npm

  echo "${ccyellow}Installing important JS tools${ccend}"
  npm install -g ${NODE_PACKAGES}

  # Enable nesh repl history plugin
  [[ ! -d "~/.nesh_modules/node_modules/nesh-history-search" ]] && nesh --enable nesh-history-search

  echo "${ccyellow}Checking homebrew update (updating if more than 3 packages updated)${ccend}"
  brew update
  UPDATES=$(brew outdated | wc -l)
  [[ "${UPDATES}" -ge "3" ]] && brew upgrade --all
}
# vim:ft=sh
